(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){},19:function(e,t,a){},34:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(35),r=a.n(c),i=a(4),l=a(5),d=a(7),o=a(6),h=a(8),j=a(9),b=a(3),m=a.n(b),u=(a(15),a(0)),x=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={userID:"",password:"",userData:[]},e.handleLogin=function(t){t.preventDefault();var a={username:e.state.userID,password:e.state.password};m.a.post("http://18.223.252.52:5000/api/login",a).then((function(e){e.status&&setTimeout((function(){window.location.href="/admin/dashboard"}),1e3)})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(a,[{key:"handleUsername",value:function(e){var t=e.target.value;this.setState({userID:t})}},{key:"handlePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h5",{className:"py-3",children:["Remmsh",Object(u.jsx)("b",{className:"text-primary",children:"CRM"})]}),Object(u.jsxs)("div",{className:"row align-items-start",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("div",{className:"rs-background",children:Object(u.jsx)("img",{src:"/assets/images/admin-login.jpg",className:"img-fluid",alt:""})})}),Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsxs)("form",{className:"login--form",onSubmit:this.handleLogin,children:[Object(u.jsxs)("h2",{className:"font-weight-lighter mb-2 fw-light",children:["Welcome Back ",Object(u.jsx)("b",{children:"ADMIN!"})]}),Object(u.jsx)("p",{className:"text-muted",children:"It is established fact that a reader will be distracted by the readable content of a page when looking at its layout."}),Object(u.jsxs)("div",{className:"rs-input-groups mt-5",children:[Object(u.jsx)("i",{className:"ti-email"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"small mb-0",children:"Username"}),Object(u.jsx)("input",{type:"text",placeholder:"Username or Email",className:"form-control px-0 border-0 bg-transparent",onChange:this.handleUsername.bind(this)})]}),Object(u.jsx)("span",{className:"input-status"})]}),Object(u.jsxs)("div",{className:"rs-input-groups",children:[Object(u.jsx)("i",{className:"ti-unlock"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"small mb-0",children:"Password"}),Object(u.jsx)("input",{type:"password",placeholder:"*******",onChange:this.handlePassword.bind(this),className:"form-control px-0 border-0 bg-transparent"})]}),Object(u.jsx)("span",{className:"input-status"})]}),Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("input",{type:"radio",className:"form-check me-2"}),Object(u.jsx)("label",{children:"Remember Me"})]}),Object(u.jsx)("a",{href:"/admin/dashboard",className:"p-0 text-decoration-none ls-2",children:"Forgot passowrd?"})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary my-3 py-2 px-5 text-uppercase fw-bold",children:"Login "})]})})]})]})}}]),a}(s.Component),O=a(1),p=a.n(O),v=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",alertText:"",alertClass:"alert-success"},e.handleSubmit=function(t){t.preventDefault();var a=e.state.username,s=e.state.password;m.a.post("http://18.223.252.52:5000/api/verify-restaurant",{username:a,password:s}).then((function(t){t.data.status?(e.setState({alertText:t.data.message}),p()(".alert").addClass("show"),localStorage.setItem("restaurant",t.data.name[0].restaurantName),setTimeout((function(){p()(".alert").removeClass("show"),e.setState({alertText:""}),window.location.href="/restaurant/dashboard"}),1500)):(e.setState({alertText:t.data.message,alertClass:"alert-danger"}),p()(".alert").addClass("show"),setTimeout((function(){e.setState({alertText:""}),document.querySelector("form").reset(),p()(".alert").removeClass("show")}),2500))}))},e.handleUsername=function(t){e.setState({username:t.target.value})},e.handlePassword=function(t){e.setState({password:t.target.value})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("restaurant")&&(window.location.href="/restaurant/dashboard")}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h5",{className:"py-3",children:["Remmsh",Object(u.jsx)("b",{className:"text-primary",children:"CRM"})]}),Object(u.jsxs)("div",{className:"row align-items-start",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("div",{className:"rs-background",children:Object(u.jsx)("img",{src:"/assets/images/restaurant_1.png",className:"img-fluid",alt:""})})}),Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsxs)("form",{className:"login--form",onSubmit:this.handleSubmit,children:[Object(u.jsxs)("h2",{className:"font-weight-lighter mb-2 fw-light",children:["Welcome Back ",Object(u.jsx)("b",{children:"Restaurant!"})]}),Object(u.jsx)("p",{className:"text-muted",children:"It is established fact that a reader will be distracted by the readable content of a page when looking at its layout."}),Object(u.jsx)("div",{className:"alert fade ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsxs)("div",{className:"rs-input-groups mt-3",children:[Object(u.jsx)("i",{className:"ti-email"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"small mb-0",children:"Username"}),Object(u.jsx)("input",{type:"text",placeholder:"Username or Email",className:"form-control px-0 border-0 bg-transparent",onKeyUp:this.handleUsername})]}),Object(u.jsx)("span",{className:"input-status"})]}),Object(u.jsxs)("div",{className:"rs-input-groups",children:[Object(u.jsx)("i",{className:"ti-unlock"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"small mb-0",children:"Password"}),Object(u.jsx)("input",{type:"password",placeholder:"*******",className:"form-control px-0 border-0 bg-transparent",onKeyUp:this.handlePassword})]}),Object(u.jsx)("span",{className:"input-status"})]}),Object(u.jsx)("div",{className:"d-flex justify-content-between",children:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("input",{type:"radio",className:"form-check me-2"}),Object(u.jsx)("label",{children:"Remember Me"})]})}),Object(u.jsx)("button",{type:"submit",className:"btn btn-success my-3 py-2 px-5 text-uppercase fw-bold",children:"Login "})]})})]})]})}}]),a}(s.Component),f=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"d-flex justify-content-center my-5 py-5",children:[Object(u.jsxs)(h.b,{to:"/login/admin",className:"border p-5 display-5 text-danger text-decoration-none",children:[Object(u.jsx)("i",{className:"ti-user d-block text-center"}),"Admin Login"]}),Object(u.jsxs)(h.b,{to:"/login/restaurant",className:"border p-5 display-5 text-decoration-none text-secondary",children:[Object(u.jsx)("i",{className:"ti-star d-block text-center"}),"Restaurant Login"]})]})})}}]),a}(s.Component),N=a(17),g=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={RestaurantName:e.props.resName,notification:[],nlength:0},e.handleLogout=function(e){localStorage.removeItem("restaurant"),window.location.href="/login/restaurant"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.RestaurantName;m.a.post("http://18.223.252.52:5000/api/getNotification",{user:this.state.rest}).then((function(t){return e.setState({notification:t.data.data,nlength:t.data.data.length})}))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.RestaurantName;m.a.post("http://18.223.252.52:5000/api/getNotification",{user:t}).then((function(t){return e.setState({notification:t.data.data,nlength:t.data.data.length})}))}},{key:"render",value:function(){return Object(u.jsx)("header",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row justify-content-between my-4",children:[Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)(h.b,{to:"/restaurant/dashboard",className:"text-decoration-none text-secondary",children:Object(u.jsxs)("h4",{className:"mb-0",children:["Remmsh",Object(u.jsx)("b",{className:"text-primary",children:"CRM"})]})})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"btn-group float-end",children:[Object(u.jsxs)("button",{type:"button",className:"btn dropdown-toggle fw-bold","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"ti-bell me-2",children:Object(u.jsx)("sup",{children:this.state.nlength})}),"Notification"]}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-menu-end",children:this.state.notification.length>0?this.state.notification.map((function(e){return Object(u.jsxs)("li",{className:"dropdown-item",children:[" ",Object(u.jsx)("p",{className:"mb-0",children:e.message})]})})):Object(u.jsxs)("li",{className:"dropdown-item",children:[" ",Object(u.jsx)("p",{className:"mb-0",children:"No notification."})]})}),Object(u.jsxs)("button",{type:"button",className:"btn dropdown-toggle fw-bold","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"ti-home me-2"}),this.state.RestaurantName]}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-menu-end",children:Object(u.jsx)("li",{children:Object(u.jsxs)("button",{className:"dropdown-item",type:"button",onClick:this.handleLogout,children:[Object(u.jsx)("i",{className:"ti-power-off me-3"}),"Logout"]})})})]})})]})})})}}]),a}(s.Component),w=(a(65),a(34),function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"loading-io",style:{display:this.props.status},children:Object(u.jsx)("img",{src:"/assets/images/loader.gif"})})}}]),a}(s.Component)),y=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={restaurantName:localStorage.getItem("restaurant"),reservations:[],feedbacks:[],numbers:[],customers:0,loading:"block"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],s=[],n=[],c=this,r=localStorage.getItem("restaurant");null===r&&(window.location.href="/login/restaurant"),m.a.get("http://18.223.252.52:5000/api/feedbacks").then((function(e){e.data.data.map((function(e){e.restaurantName===r&&a.push(e)})),c.setState({feedbacks:a})})),m.a.get("http://18.223.252.52:5000/api/getCustomers").then((function(e){return e.data.data.map((function(e){return n.push(e),!0})),c.setState({numbers:n}),n.map((function(e){return m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:e,restaurantName:r}).then((function(e){return e.data.data.map((function(t){return e.data.status&&s.push(t),!0})),setTimeout((function(){var e=s.map((function(e){return[e.phone,e]})),t=new Map(e),a=Object(N.a)(t.values()).length;c.setState({customers:a})}),1e3),!0})),!0})),!0})),m.a.get("http://18.223.252.52:5000/api/reservations").then((function(e){e.data.data.map((function(e){var a=c.state.restaurantName;return e.restaurantName===a?t.push(e):t=Object(N.a)(t),!0})),c.setState({reservations:t})})),setTimeout((function(){e.setState({loading:"none"})}),2e3)}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(w,{status:this.state.loading}),Object(u.jsx)(g,{resName:this.state.restaurantName}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row mb-4",children:[Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-direction"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Reservations"}),Object(u.jsx)("h2",{children:this.state.reservations.length})]})]})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-face-smile"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Customers"}),Object(u.jsx)("h2",{children:this.state.customers})]})]})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-comments"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Feedbacks"}),Object(u.jsx)("h2",{children:this.state.feedbacks.length})]})]})})]})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"border py-4 text-center rounded border-primary",children:[Object(u.jsx)("img",{src:"/assets/images/search-reservation.jpg",className:"rs-item-img",alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{className:"rs-item-title",children:"Our Reservations"}),Object(u.jsx)(h.b,{to:"/restaurant/search-reservation",className:"btn btn-primary rs-item-btn",children:"Search Now"})]})]})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"border py-4 text-center rounded border-primary",children:[Object(u.jsx)("img",{src:"/assets/images/check-reservation.jpg",className:"rs-item-img",alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{className:"rs-item-title",children:"Our Customers"}),Object(u.jsx)(h.b,{to:"/restaurant/customers",className:"btn btn-primary rs-item-btn",children:"See All"})]})]})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"border py-4 text-center rounded border-primary",children:[Object(u.jsx)("img",{src:"/assets/images/feedback.jpg",className:"rs-item-img",alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{className:"rs-item-title",children:"Customer Feedback"}),Object(u.jsx)(h.b,{to:"/restaurant/feedback",className:"btn btn-primary rs-item-btn",children:"View feedback"})]})]})})]})})]})}}]),a}(s.Component),C=(a(19),function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reservations:[],alertClass:"alert-danger",alertText:"",restaurant:localStorage.getItem("restaurant"),resID:""},e.handleFormData=function(e){var t=e.target.value;p()("#rs-reservation-list tbody > tr td:nth-child(9)").each((function(){var e=p()(this);e.text()!==t&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))}))},e.toggleStatus=function(t){var a=p()(t.target).parent().parent("tr").attr("data-id");e.setState({resID:a}),m.a.post("http://18.223.252.52:5000/api/updateReservationStatus",{reservationID:a,status:"confirmed"}).then((function(t){e.setState({alertText:"Reservation status changed",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),2e3)}));var s=e.state.restaurant,n="The Restaurant ".concat(s," has changed the status of a reservation.");m.a.post("http://18.223.252.52:5000/api/addNotification",{user:"admin",message:n}).then((function(e){console.log("notification sent.")}))},e.toggleStatus2=function(t){var a=p()(t.target).parent().parent("tr").attr("data-id");e.setState({resID:a}),m.a.post("http://18.223.252.52:5000/api/updateReservationStatus",{reservationID:a,status:"Seated In"}).then((function(t){t.data.status&&(e.setState({alertText:"Reservation status changed",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),2e3))}));var s=e.state.restaurant,n="The Restaurant ".concat(s," has changed the status of a reservation.");m.a.post("http://18.223.252.52:5000/api/addNotification",{user:"admin",message:n}).then((function(e){console.log("notification sent.")}))},e.handlCancelReservation=function(t){var a=p()(t.target).parent().parent("tr").data("id");m.a.post("http://18.223.252.52:5000/api/activeReservation",{id:a}).then((function(t){t.data.status&&(e.setState({alertText:"Reservation calncelled."}),p()(".alert").removeClass("d-none"),setTimeout((function(){var e="The Restaurant "+localStorage.getItem("restaurant")+"has cancelled a reservation.";m.a.post("http://18.223.252.52:5000/api/addNotification",{user:"admin",message:e}).then((function(e){console.log("notification sent.")})),window.location.reload()}),2e3))}))},e.handleForm2=function(e){var t=e.target.value;"today"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getDate()!==(new Date).getDate()&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"tomorrow"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getDate()!==(new Date).getDate()+1&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"this_month"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getMonth()!==(new Date).getMonth()&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"last_month"===t&&p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getMonth()!==(new Date).getMonth()-1&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))}))},e.handleClearFilter=function(e){p()("#rs-reservation-list tbody > tr").each((function(){p()(this).show(),p()(".hidden-row").hide()}))},e.setValues=function(e){localStorage.setItem("phone",p()(e.target).parent("td").data("phone")),localStorage.setItem("customer",p()(e.target).parent("td").data("cname"))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=this.state.restaurant;localStorage.removeItem("phone"),localStorage.removeItem("customer"),m.a.get("http://18.223.252.52:5000/api/reservations").then((function(e){e.data.data.map((function(e){return e.restaurantName===a?t.push(e):t=Object(N.a)(t),!0}))})),setTimeout((function(){e.setState({reservations:t}),p()(".table tr").each((function(){var e=p()(this).find("td:nth-child(9)").text(),t=p()(this);m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:e,restaurantName:a}).then((function(e){t.find("td:nth-child(7) a").text(e.data.data.length)}))}))}),2e3)}},{key:"componentDidUpdate",value:function(){var e=this,t=[],a=localStorage.getItem("restaurant");m.a.get("http://18.223.252.52:5000/api/reservations").then((function(s){s.data.data.map((function(e){return e.restaurantName===a?t.push(e):t=Object(N.a)(t),!0})),e.setState({reservations:t})}));var s=this.state.resID;m.a.post("http://18.223.252.52:5000/api/updateReservationStatus",{reservationID:s,status:"confirmed"}).then((function(t){e.setState({alertText:"Reservation status changed",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),2e3)}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)(h.b,{to:"/restaurant/dashboard",className:"h4 rs-back-btn text-decoration-none my-3 d-inline-block",children:[Object(u.jsx)("i",{className:"ti-angle-left"}),"Back"]})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-8 mx-auto",children:Object(u.jsx)("h5",{className:"text-center display-4",children:"Reservations"})})}),Object(u.jsxs)("div",{className:"row mt-5 mb-2",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[Object(u.jsxs)("div",{className:"rs-search-inputs d-flex align-items-center border-1 border border-dark overflow-hidden",children:[Object(u.jsx)("input",{type:"text",className:"form-control border-0",placeholder:"Filter by Number...",onChange:this.handleFormData}),Object(u.jsx)("i",{className:"ti-search"})]}),Object(u.jsx)("div",{className:"filter-select",children:Object(u.jsxs)("select",{className:"custom-select border-0",onChange:this.handleForm2,children:[Object(u.jsx)("option",{value:"today",children:"Today"}),Object(u.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),Object(u.jsx)("option",{value:"this_month",children:"This Month"}),Object(u.jsx)("option",{value:"last_month",children:"Last Month"})]})}),Object(u.jsxs)("button",{className:"btn btn-outline-secondary ms-2 ms-auto",onClick:this.handleClearFilter,children:[Object(u.jsx)("i",{className:"ti-filter small"})," clear filter "]})]}),Object(u.jsx)("div",{className:"alert d-none ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-hover",id:"rs-reservation-list",children:[Object(u.jsx)("thead",{className:"border-top border-dark",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Customer Name"}),Object(u.jsx)("th",{style:{width:"100px"},children:"Date"}),Object(u.jsx)("th",{style:{width:"80px"},children:"Time"}),Object(u.jsx)("th",{style:{width:"100px"},children:"No of Guests"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Cuisine"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Visits"}),Object(u.jsx)("th",{style:{width:"220px"},children:"Preferences"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Phone"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Status"}),Object(u.jsx)("th",{children:"Action"})]})}),Object(u.jsxs)("tbody",{children:[this.state.reservations.length>0?this.state.reservations.map((function(t,a){return Object(u.jsxs)("tr",{"data-id":t._id,children:[Object(u.jsx)("td",{children:a+1}),Object(u.jsx)("td",{children:t.customerName}),Object(u.jsx)("td",{children:t.reservationDate.split("T")[0]}),Object(u.jsx)("td",{children:t.reservationTime}),Object(u.jsx)("td",{children:t.guestCount}),Object(u.jsx)("td",{children:t.cuisine}),Object(u.jsx)("td",{"data-cname":t.customerName,"data-phone":t.phone,children:Object(u.jsx)(h.b,{to:"/restaurant/customer-reservation",onClick:e.setValues})}),Object(u.jsx)("td",{children:t.preferences}),Object(u.jsx)("td",{children:t.phone}),"waiting"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-warning",onClick:e.toggleStatus,children:t.status})}):"confirmed"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-success",onClick:e.toggleStatus2,children:t.status})}):"Seated In"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow bg-violet text-white",children:t.status})}):Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",children:t.status})}),Object(u.jsx)("td",{children:t.isActive?Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",onClick:e.handlCancelReservation,children:"Cancel"}):Object(u.jsx)("span",{className:"btn btn-sm shadow btn-secondary",disabled:!0,children:"Cancelled"})})]},a)})):Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"11",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-smile  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"Searching Reservations..."})]})}),Object(u.jsx)("tr",{className:"hidden-row d-none",children:Object(u.jsxs)("td",{colSpan:"11",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-sad  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"0 results found."})]})})]})]})})]})]})]})}}]),a}(s.Component)),k=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={numbers:[],customers:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],s=localStorage.getItem("restaurant");m.a.get("http://18.223.252.52:5000/api/getCustomers").then((function(n){return n.data.data.map((function(e){return t.push(e),!0})),e.setState({numbers:t}),t.map((function(e){return m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:e,restaurantName:s}).then((function(e){return e.data.data.map((function(t){return e.data.status&&a.push(t),!0})),!0})),!0})),setTimeout((function(){var t=a.map((function(e){return[e.phone,e]})),n=new Map(t),c=Object(N.a)(n.values());e.setState({customers:c}),p()(".table tr").each((function(){var e=p()(this).find("td:nth-child(3)").text(),t=p()(this);m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:e,restaurantName:s}).then((function(e){t.find("td:nth-child(4)").text(e.data.data.length)}))}))}),1e3),!0}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)(h.b,{to:"/restaurant/dashboard",className:"h4 rs-back-btn text-decoration-none my-3 d-inline-block",children:[Object(u.jsx)("i",{className:"ti-angle-left"}),"Back"]})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-8 mx-auto",children:Object(u.jsx)("h5",{className:"text-center display-4",children:"Customers"})})}),Object(u.jsx)("div",{className:"row mt-5 mb-2",children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-hover",id:"rs-reservation-list",children:[Object(u.jsx)("thead",{className:"border-top border-dark",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Customer Name"}),Object(u.jsx)("th",{children:"Phone"}),Object(u.jsx)("th",{children:"No. of Visit"})]})}),Object(u.jsx)("tbody",{children:this.state.customers.length>0?this.state.customers.map((function(e,t){return Object(u.jsxs)("tr",{"data-id":e._id,children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:e.customerName}),Object(u.jsx)("td",{children:e.phone}),Object(u.jsx)("td",{})]},t)})):Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"9",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-smile  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"Searching results."})]})})})]})})})]})]})}}]),a}(s.Component),S=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reservations:[],alertClass:"alert-danger",alertText:"",customerName:"",phone:""},e.handleFormData=function(e){var t=e.target.value;p()("#rs-reservation-list tbody > tr td:nth-child(9)").each((function(){var e=p()(this);e.text()!==t&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))}))},e.toggleStatus=function(t){var a=p()(t.target).parent().parent("tr").attr("data-id");m.a.post("http://18.223.252.52:5000/api/updateReservationStatus",{reservationID:a,status:"confirmed"}).then((function(t){e.setState({alertText:"Reservation status changed",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),2e3)}))},e.toggleStatus2=function(t){var a=p()(t.target).parent().parent("tr").attr("data-id");m.a.post("http://18.223.252.52:5000/api/updateReservationStatus",{reservationID:a,status:"Seated In"}).then((function(t){t.data.status&&(e.setState({alertText:"Reservation status changed",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),2e3))}))},e.handlCancelReservation=function(t){var a=p()(t.target).parent("td").parent("tr").data("id");m.a.post("http://18.223.252.52:5000/api/activeReservation",{id:a}).then((function(t){t.data.status&&(e.setState({alertText:"Reservation cancelled.",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),setTimeout((function(){window.location.reload()}),1e3))}))},e.handleForm2=function(e){var t=e.target.value;"today"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getDate()!==(new Date).getDate()&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"tomorrow"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getDate()!==(new Date).getDate()+1&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"this_month"===t?p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getMonth()!==(new Date).getMonth()&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))})):"last_month"===t&&p()("#rs-reservation-list tbody > tr td:nth-child(3)").each((function(){var e=p()(this);new Date(p()(this).text()).getMonth()!==(new Date).getMonth()-1&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))}))},e.handleClearFilter=function(e){p()("#rs-reservation-list tbody > tr").each((function(){p()(this).show(),p()(".hidden-row").hide()}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("restaurant");this.setState({customerName:localStorage.getItem("customer"),phone:localStorage.getItem("phone")}),m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:localStorage.getItem("phone"),restaurantName:t}).then((function(t){e.setState({reservations:t.data.data})})),setTimeout((function(){p()(".table tr td:nth-child(2)").each((function(){var t=p()(this).text(),a=p()(this);m.a.post("http://18.223.252.52:5000/api/getFeedback",{customerName:e.state.customerName,reservationDate:new Date(t)}).then((function(e){e.data.status&&(console.log(e),e.data.data.length>0&&(a.parent("tr").find("td:nth-child(8)").text(e.data.data[0].rating),a.parent("tr").find("td:nth-child(9)").text(e.data.data[0].comment)))}))}))}),1e3)}},{key:"componentDidUpdate",value:function(){var e=this,t=localStorage.getItem("phone"),a=localStorage.getItem("restaurant");m.a.post("http://18.223.252.52:5000/api/customerByRestaurant",{phone:t,restaurantName:a}).then((function(t){e.setState({reservations:t.data.data})}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)(h.b,{to:"/restaurant/dashboard",className:"h4 rs-back-btn text-decoration-none my-3 d-inline-block",children:[Object(u.jsx)("i",{className:"ti-angle-left"}),"Back"]})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-8 mx-auto",children:Object(u.jsxs)("h5",{className:"text-center display-4 ",children:[Object(u.jsx)("b",{className:"text-primary",children:this.state.customerName})," Reservations"]})})}),Object(u.jsxs)("div",{className:"row mt-5 mb-2",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[Object(u.jsxs)("div",{className:"rs-search-inputs d-flex align-items-center border-1 border border-dark overflow-hidden",children:[Object(u.jsx)("input",{type:"text",className:"form-control border-0",placeholder:"Filter by Number...",onChange:this.handleFormData}),Object(u.jsx)("i",{className:"ti-search"})]}),Object(u.jsx)("div",{className:"filter-select",children:Object(u.jsxs)("select",{className:"custom-select border-0",onChange:this.handleForm2,children:[Object(u.jsx)("option",{value:"today",children:"Today"}),Object(u.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),Object(u.jsx)("option",{value:"this_month",children:"This Month"}),Object(u.jsx)("option",{value:"last_month",children:"Last Month"})]})}),Object(u.jsxs)("button",{className:"btn btn-outline-secondary ms-2 ms-auto",onClick:this.handleClearFilter,children:[Object(u.jsx)("i",{className:"ti-filter small"})," clear filter "]})]}),Object(u.jsx)("div",{className:"alert d-none ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-hover",id:"rs-reservation-list",children:[Object(u.jsx)("thead",{className:"border-top border-dark",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{style:{width:"100px"},children:"Date"}),Object(u.jsx)("th",{style:{width:"80px"},children:"Time"}),Object(u.jsx)("th",{style:{width:"100px"},children:"No_of_Guests "}),Object(u.jsx)("th",{style:{width:"120px"},children:"Cuisine"}),Object(u.jsx)("th",{style:{width:"220px"},children:"Preferences"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Phone"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Rating"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Feedback"}),Object(u.jsx)("th",{style:{width:"120px"},children:"Status"}),Object(u.jsx)("th",{children:"Action"})]})}),Object(u.jsxs)("tbody",{children:[this.state.reservations.length>0?this.state.reservations.map((function(t,a){return Object(u.jsxs)("tr",{"data-id":t._id,children:[Object(u.jsx)("td",{children:a+1}),Object(u.jsx)("td",{children:t.reservationDate.split("T")[0]}),Object(u.jsx)("td",{children:t.reservationTime}),Object(u.jsx)("td",{children:t.guestCount}),Object(u.jsx)("td",{children:t.cuisine}),Object(u.jsx)("td",{children:t.preferences}),Object(u.jsx)("td",{children:t.phone}),Object(u.jsx)("td",{children:"No Rating"}),Object(u.jsx)("td",{children:"No feedback"}),"waiting"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-warning",onClick:e.toggleStatus,children:t.status})}):"confirmed"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-success",onClick:e.toggleStatus2,children:t.status})}):"Seated In"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow bg-violet text-white",children:t.status})}):Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",children:t.status})}),Object(u.jsx)("td",{children:t.isActive?Object(u.jsx)("span",{className:"btn btn-sm shadow btn-secondary",disabled:!0,children:"Cancelled"}):Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",onClick:e.handlCancelReservation,children:"Cancel"})})]},a)})):Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"11",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-smile  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"Reservation Searching."})]})}),Object(u.jsx)("tr",{className:"hidden-row d-none",children:Object(u.jsxs)("td",{colSpan:"9",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-sad  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"0 results found."})]})})]})]})})]})]})]})}}]),a}(s.Component),R=(a(66),function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={feedbacks:[]},e.handleFormData=function(e){var t=e.target.value;p()(".table tr td:nth-child(3)").each((function(){var e=p()(this);e.text()!==t&&""!==t?(e.parent().hide(),p()(".hidden-row").removeClass("d-none")):(e.parent().show(),p()(".hidden-row").addClass("d-none"))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=[],t=this;m.a.get("http://18.223.252.52:5000/api/feedbacks").then((function(a){a.data.data.map((function(t){var a=localStorage.getItem("restaurant");t.restaurantName===a&&e.push(t)})),t.setState({feedbacks:e})}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)(h.b,{to:"/restaurant/dashboard",className:"h4 rs-back-btn text-decoration-none my-3 d-inline-block",children:[Object(u.jsx)("i",{className:"ti-angle-left"}),"Back"]})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 mx-auto",children:[Object(u.jsx)("h1",{className:"text-center fw-light mb-0",children:"Customer Feedback"}),Object(u.jsx)("p",{className:"text-center",children:"Enter customer phone number"})]})}),Object(u.jsxs)("div",{className:"rs-search-inputs d-flex align-items-center border-1 border border-dark overflow-hidden mb-2 ms-auto",children:[Object(u.jsx)("input",{type:"text",className:"form-control form-control-lg border-0",placeholder:"Enter Phone Number...",onKeyUp:this.handleFormData}),Object(u.jsx)("i",{className:"ti-search"})]}),Object(u.jsxs)("table",{className:"table table-hover",children:[Object(u.jsx)("thead",{className:"border-top border-dark",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Customer Name"}),Object(u.jsx)("th",{children:"Phone"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Time"}),Object(u.jsx)("th",{children:"Rating"}),Object(u.jsx)("th",{children:"Comment"}),Object(u.jsx)("th",{children:"Image"})]})}),Object(u.jsxs)("tbody",{children:[this.state.feedbacks.length>0?this.state.feedbacks.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:e.customerName}),Object(u.jsx)("td",{children:e.phone}),Object(u.jsx)("td",{children:e.reservationDate.split("T")[0]}),Object(u.jsx)("td",{children:e.reservationTime}),Object(u.jsxs)("td",{children:[e.rating,"/19"]}),Object(u.jsx)("td",{children:e.comment}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:e.image,alt:"",style:{borderRadius:5,maxWidth:100},className:"img-fluid border"})})]},e._id)})):Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"9",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-smile-face  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"Searching results."})]})}),Object(u.jsx)("tr",{className:"hidden-row d-none",children:Object(u.jsxs)("td",{colSpan:"9",className:"text-center py-5",children:[Object(u.jsx)("i",{className:"ti-face-sad  fs-5"}),Object(u.jsx)("p",{className:"lead fw-bold mb-0",children:"0 results found."})]})})]})]})]})]})}}]),a}(s.Component)),D=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={notification:[],nlength:0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.post("http://18.223.252.52:5000/api/getNotification",{user:"admin"}).then((function(t){return e.setState({notification:t.data.data,nlength:t.data.data.length})}))}},{key:"componentDidUpdate",value:function(){var e=this;m.a.post("http://18.223.252.52:5000/api/getNotification",{user:"admin"}).then((function(t){return e.setState({notification:t.data.data,nlength:t.data.data.length})}))}},{key:"render",value:function(){return Object(u.jsx)("header",{className:"fixed-top bg-white shadow",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row justify-content-between align-items-center py-2 border-bottom",children:[Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)(h.b,{to:"admin/dashboard",className:"text-decoration-none text-secondary",children:Object(u.jsxs)("h5",{className:"mb-0",children:["Remmsh",Object(u.jsx)("b",{className:"text-primary",children:"CRM"})]})})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsxs)("div",{className:"btn-group float-end",children:[Object(u.jsxs)("button",{type:"button",className:"btn dropdown-toggle fw-bold","data-bs-toggle":"dropdown","data-bs-display":"dynamic","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"ti-bell me-2",children:Object(u.jsx)("sup",{className:"badge bg-violet radius-oval",children:this.state.nlength})}),"Notication"]}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-menu-end",children:this.state.notification.length>0?this.state.notification.map((function(e){return Object(u.jsxs)("li",{className:"dropdown-item",children:[" ",Object(u.jsx)("p",{className:"mb-0",children:e.message})]})})):Object(u.jsxs)("li",{className:"dropdown-item",children:[" ",Object(u.jsx)("p",{className:"mb-0",children:"No notification."})]})}),Object(u.jsxs)("button",{type:"button",className:"btn dropdown-toggle fw-bold","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"ti-user me-2"}),"Admin"]}),Object(u.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[Object(u.jsx)("li",{children:Object(u.jsxs)("button",{className:"dropdown-item",type:"button",children:[Object(u.jsx)("i",{className:"ti-settings me-3"}),"Profile"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("button",{className:"dropdown-item",type:"button",children:[Object(u.jsx)("i",{className:"ti-power-off me-3"}),"Logout"]})})]})]})})]})})})}}]),a}(s.Component),T=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={activeLinks:e.props.activeLink},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)("aside",{className:"rs-sidebar",children:Object(u.jsxs)("ul",{className:"list-unstyled rs-side-menu",children:[Object(u.jsx)("li",{children:Object(u.jsxs)(h.b,{to:"/admin/dashboard",className:"dashboard"===this.state.activeLinks?"active":"",children:[Object(u.jsx)("i",{className:"ti-view-grid"}),Object(u.jsx)("span",{children:"Dashboard"})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(h.b,{to:"/admin/restaurants",className:"restaurants"===this.state.activeLinks?"active":"",children:[Object(u.jsx)("i",{className:"ti-star"}),Object(u.jsx)("span",{children:"Restaurants"})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(h.b,{to:"/admin/restaurant-selection",className:"reservation"===this.state.activeLinks?"active":"",children:[Object(u.jsx)("i",{className:"ti-bookmark"}),Object(u.jsx)("span",{children:"Reservations"})]})})]})})}}]),a}(s.Component),I=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reservations:0,restaurants:0,feedbacks:0,customers:0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://18.223.252.52:5000/api/restaurants").then((function(t){return e.setState({restaurants:t.data.data.length})})),m.a.get("http://18.223.252.52:5000/api/reservations").then((function(t){return e.setState({reservations:t.data.data.length})})),m.a.get("http://18.223.252.52:5000/api/feedbacks").then((function(t){return e.setState({feedbacks:t.data.data.length})})),m.a.get("http://18.223.252.52:5000/api/getCustomers").then((function(t){return e.setState({customers:t.data.data.length})}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"dashboard"}),Object(u.jsx)("div",{className:"rs-content",children:Object(u.jsx)("div",{className:"bg-gray vh-100 py-4 px-3",children:Object(u.jsxs)("div",{className:"container ",children:[Object(u.jsx)("h2",{children:"Statistics"}),Object(u.jsxs)("div",{className:"row justify-content-center",children:[Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-tag"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Restaurant"}),Object(u.jsx)("h2",{children:this.state.restaurants})]})]})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-direction"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Reservation"}),Object(u.jsx)("h2",{children:this.state.reservations})]})]})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-face-smile"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Customer"}),Object(u.jsx)("h2",{children:this.state.customers})]})]})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsxs)("div",{className:"rs-report-box",children:[Object(u.jsx)("i",{className:"ti-comment-alt"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Feedback"}),Object(u.jsx)("h2",{children:this.state.feedbacks})]})]})})]})]})})})]})}}]),a}(s.Component),A=a(16),F=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={restaurantName:"",tableCount:"",address1:"",address2:"",pincode:"",city:"",states:"",cuisine:[],email:"",phone:"",username:"",password:"",alertText:"",alertClass:"alert-danger"},e.handleSubmit=function(t){t.preventDefault();var a={restaurantName:e.state.restaurantName,tableCount:e.state.tableCount,addressLine1:e.state.address1,addressLine2:e.state.address2,pincode:e.state.pincode,city:e.state.city,state:e.state.states,cuisine:e.state.cuisine,email:e.state.email,phone:e.state.phone,username:e.state.username,password:e.state.password},s=Object(A.a)(e);m.a.post("http://18.223.252.52:5000/api/addRestaurant",a).then((function(e){e.status&&(s.setState({alertText:"Restaurant Added.",alertClass:"alert-success"}),p()(".alert").removeClass("d-none"),document.querySelector("form").reset(),setTimeout((function(){window.location.href="/admin/restaurants"}),1e3))}))},e}return Object(l.a)(a,[{key:"handleResturantName",value:function(e){this.setState({restaurantName:e.target.value})}},{key:"handleTable",value:function(e){this.setState({tableCount:e.target.value})}},{key:"handleAddress1",value:function(e){this.setState({address1:e.target.value})}},{key:"handleAddress2",value:function(e){this.setState({address2:e.target.value})}},{key:"handlePincode",value:function(e){this.setState({pincode:e.target.value})}},{key:"handleCity",value:function(e){this.setState({city:e.target.value})}},{key:"handleState",value:function(e){this.setState({states:e.target.value})}},{key:"handlePhone",value:function(e){this.setState({phone:e.target.value})}},{key:"handleMail",value:function(e){this.setState({email:e.target.value})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleCuisine",value:function(e){var t=e.target.value.split(",");this.setState({cuisine:JSON.stringify(t)})}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"restaurant"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsx)("h4",{className:"form-title",children:"Add Restaurant"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{className:"container reservation-form",onSubmit:this.handleSubmit,children:[Object(u.jsx)("div",{className:"alert d-none ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-8 mb-4",children:[Object(u.jsx)("label",{children:"Restaurant Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",onKeyUp:this.handleResturantName.bind(this)})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"No. of table available"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. 5 tables",onKeyUp:this.handleTable.bind(this)})]}),Object(u.jsxs)("div",{className:"col-md-12 mb-4",children:[Object(u.jsx)("label",{children:"Address"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Address Line 1",onKeyUp:this.handleAddress1.bind(this)})}),Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Address Line 2",onKeyUp:this.handleAddress2.bind(this)})}),Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Pincode",onKeyUp:this.handlePincode.bind(this)})}),Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"City",onKeyUp:this.handleCity.bind(this)})}),Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"State",onKeyUp:this.handleState.bind(this)})})]})]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Phone"}),Object(u.jsx)("input",{className:"form-control",type:"text",onChange:this.handlePhone.bind(this)})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Email Address"}),Object(u.jsx)("input",{className:"form-control",type:"email",onKeyUp:this.handleMail.bind(this)})]})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 mb-3",children:[Object(u.jsx)("label",{children:"Add Cuisine  (seperate each cuisine with ','"}),Object(u.jsx)("textarea",{className:"form-control",rows:4,onKeyUp:this.handleCuisine.bind(this)})]})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{className:"form-control",type:"text",onKeyUp:this.handleUsername.bind(this)})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{className:"form-control",type:"password",onKeyUp:this.handlePassword.bind(this)})]})]}),Object(u.jsxs)("button",{className:"btn btn-primary rounded-30 shadow my-4 px-4 py-3",children:[Object(u.jsx)("i",{className:"ti-plus small d-inline-block me-2"}),"Add Restaurant"]})]})]})]})}}]),a}(s.Component),U=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={restaurants:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://18.223.252.52:5000/api/restaurants").then((function(t){e.setState({restaurants:t.data.data})}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"restaurants"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsx)("h4",{className:"form-title",children:"Restaurants Listing"}),Object(u.jsxs)(h.b,{to:"/admin/restaurant/add",class:"shadow btn btn-outline-primary me-5 mt-4",children:[Object(u.jsx)("i",{className:"ti-plus me-2"}),"Add New Restaurant"]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"container  pt-2 px-5 py-4",children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table mt-0 table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Restaurant"}),Object(u.jsx)("th",{children:"username"}),Object(u.jsx)("th",{children:"password"}),Object(u.jsx)("th",{children:"Tables"}),Object(u.jsx)("th",{children:"Cuisine's"}),Object(u.jsx)("th",{children:"Phone"}),Object(u.jsx)("th",{children:"Email"})]})}),Object(u.jsx)("tbody",{children:this.state.restaurants.length>0?this.state.restaurants.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[t+1,"."]}),Object(u.jsx)("td",{children:e.restaurantName}),Object(u.jsx)("td",{children:e.username}),Object(u.jsx)("td",{children:e.password}),Object(u.jsx)("td",{children:e.tableCount}),Object(u.jsx)("td",{children:JSON.parse(e.cuisine).map((function(e){return Object(u.jsx)("span",{className:"btn btn-sm radius-oval fw-bold border border-dark bagde bg-warning  m-1",children:e})}))}),Object(u.jsx)("td",{children:e.phone}),Object(u.jsx)("td",{children:e.email})]},t)})):Object(u.jsxs)("tr",{children:[" ",Object(u.jsx)("td",{colspan:"8",className:"text-center",children:"Searching..."})]})})]})})})]})]})}}]),a}(s.Component),M=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={allData:[],restaurants:[],cuisine:[],customerName:"",phone:"",selectedCuisine:"",selectedRestaurant:"",guestNo:"",reservationDate:"",reservationTime:"",preference:"",alertText:"",alertClass:"alert-danger"},e.handleCustomer=function(t){e.setState({customerName:t.target.value})},e.handleGuest=function(t){e.setState({guestNo:t.target.value})},e.handleDate=function(t){e.setState({reservationDate:t.target.value})},e.handleTime=function(t){var a=t.target.value.split(":"),s="AM";a[0]>12&&(a[0]-=12,s="PM");var n=a[0]+":"+a[1]+" "+s;alert(n),e.setState({reservationTime:n})},e.handleDish=function(t){e.setState({selectedCuisine:t.target.value})},e.handlePhone=function(t){e.setState({phone:t.target.value})},e.handlePreference=function(t){e.setState({preference:t.target.value})},e.submitReservation=function(t){t.preventDefault(),m.a.post("http://18.223.252.52:5000/api/addReservation",{restaurantName:e.state.selectedRestaurant,customerName:e.state.customerName,guestCount:e.state.guestNo,reservationDate:e.state.reservationDate,reservationTime:e.state.reservationTime,cuisine:e.state.selectedCuisine,phone:e.state.phone,preference:e.state.preference}).then((function(t){t.status?(e.setState({alertText:t.data.message,alertClass:"alert-success"}),setTimeout((function(){window.location.href="/admin/reservations"}),1500)):alert("Something went wrong. Please try again")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("selected_restaurant");this.setState({selectedRestaurant:t});var a=[];m.a.get("http://18.223.252.52:5000/api/restaurants").then((function(s){a=s.data.data,e.setState({restaurants:a}),a.map((function(a){return a.restaurantName===t&&e.setState({cuisine:JSON.parse(a.cuisine)}),!0}))}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"reservation"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsx)("h4",{className:"form-title",children:"Add Reservation"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{className:"container reservation-form",onSubmit:this.submitReservation,children:[Object(u.jsx)("div",{className:"alert fade d-none ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-8 mb-4",children:Object(u.jsx)("input",{type:"text",value:this.state.selectedRestaurant,disabled:!0,className:"form-control"})})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Customer Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. John Doe",onKeyUp:this.handleCustomer})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"No of Guest"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. 4 ",onKeyUp:this.handleGuest})]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Date"}),Object(u.jsx)("input",{className:"form-control",type:"date",onChange:this.handleDate})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Time"}),Object(u.jsx)("input",{className:"form-control",type:"time",onChange:this.handleTime})]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Select Cuisine"}),Object(u.jsxs)("select",{className:"form-select",onChange:this.handleDish,children:[Object(u.jsx)("option",{children:"choose any one "}),0!==this.state.cuisine.length?this.state.cuisine.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)})):""]})]}),Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Phone Number"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. +919394-343-343",onKeyUp:this.handlePhone})]})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 mb-3",children:[Object(u.jsx)("label",{children:"Any other preference"}),Object(u.jsx)("textarea",{className:"form-control",rows:4,onKeyUp:this.handlePreference})]})}),Object(u.jsxs)("button",{type:"submit",className:"btn btn-primary rounded-30 shadow my-4 px-4 py-3",children:[Object(u.jsx)("i",{className:"ti-plus small d-inline-block me-2"}),"Add Reservation"]})]})]})]})}}]),a}(s.Component),L=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"feedback"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsx)("h4",{className:"form-title",children:"Send Feedback"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{className:"container reservation-form",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-4 mb-4",children:[Object(u.jsx)("label",{children:"Enter Reservation ID"}),Object(u.jsx)("input",{type:"text",className:"form-control"})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 mb-3",children:[Object(u.jsx)("label",{children:"Feedback"}),Object(u.jsx)("textarea",{className:"form-control",rows:4})]})}),Object(u.jsxs)("button",{className:"btn btn-primary rounded-30 shadow my-4 px-4 py-3",children:[Object(u.jsx)("i",{className:"ti-comment small d-inline-block me-2"}),"Send feedback"]})]})]})]})}}]),a}(s.Component),P=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reservations:[],restaurantName:"",name:"",phone:"",date:"",time:"",rating:"",comment:"",imageURL:"",latestRating:"",latestComment:"",latestImage:"",alertText:"",alertClass:"alert-danger"},e.handleUploadFile=function(t){var a=t.target.files.item(0).name;console.log(a),p()(t.target).next().find("span").text(a);var s=t.target,n=Object(A.a)(e);if(s.files&&s.files[0]){var c=new FileReader;c.onload=function(e){n.setState({imageURL:e.target.result})},c.readAsDataURL(s.files[0])}},e.handleFeedbackForm=function(t){t.preventDefault();var a={restaurantName:e.state.restaurantName,customerName:e.state.name,phone:e.state.phone,reservationDate:e.state.date,reservationTime:e.state.time,rating:e.state.rating,image:e.state.imageURL,comment:e.state.comment},s=Object(A.a)(e),n=p()(t.target).parent().parent("tr").find("td:nth-child(2)").text();m.a.post("http://18.223.252.52:5000/api/sendFeedback",a).then((function(e){if(e.data.status){s.setState({alertText:e.data.message,alertClass:"alert-success"}),p()(".alert2").addClass("show").removeClass("d-none");var t=localStorage.getItem("selected_restaurant"),a="".concat(n," has given a feedback of a reservation.");m.a.post("http://18.223.252.52:5000/api/addNotification",{user:t,message:a}).then((function(e){console.log("notification sent.")})),setTimeout((function(){window.location.reload()}),1e3)}}))},e.handleData=function(t){var a=p()(t.target).parent("td").data("name"),s=p()(t.target).parent("td").data("date"),n=p()(t.target).parent("td").data("time"),c=p()(t.target).parent("td").data("phone");e.setState({name:a,phone:c,date:s,time:n})},e.handleViewData=function(t){var a=p()(t.target).parent("td").data("name"),s=p()(t.target).parent("td").data("date"),n=Object(A.a)(e);m.a.post("http://18.223.252.52:5000/api/getFeedback",{customerName:a,reservationDate:s}).then((function(e){console.log(e),e.data.status&&n.setState({latestRating:e.data.data[0].rating,latestComment:e.data.data[0].comment,latestImage:e.data.data[0].image})}))},e.handlCancelReservation=function(t){var a=p()(t.target).parent().parent("tr").data("id"),s=localStorage.getItem("selected_restaurant"),n=p()(t.target).parent().parent("tr").find("td:nth-child(2)").text();m.a.post("http://18.223.252.52:5000/api/activeReservation",{id:a}).then((function(t){if(t.data.status){e.setState({alertText:"Reservation cancelled.",alertClass:"alert-success"}),p()(".alert").addClass("show").removeClass("d-none");var a="".concat(n," has cancelled a reservation.");m.a.post("http://18.223.252.52:5000/api/addNotification",{user:s,message:a}).then((function(e){console.log("notification sent.")})),setTimeout((function(){window.location.reload()}),1e3)}}))},e.filterRestaurant=function(e){var t=e.target.value;p()(".table tbody > tr td:nth-child(6)").each((function(){var e=p()(this);p()(this).text()!==t&&""!==t?e.parent().hide():e.parent().show()}))},e.clearFilter=function(e){p()(".table tr").show()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({restaurantName:localStorage.getItem("selected_restaurant")}),m.a.post("http://18.223.252.52:5000/api/reservationsByrestaurant",{restaurantName:this.state.restaurantName}).then((function(t){e.setState({reservations:t.data.data})}));var t=this;p()(".number-arr span").click((function(){var e=p()(this).data("count");p()(this).addClass("active").siblings("span").removeClass("active"),t.setState({rating:e})}))}},{key:"componentDidUpdate",value:function(){var e=this;m.a.post("http://18.223.252.52:5000/api/reservationsByrestaurant",{restaurantName:this.state.restaurantName}).then((function(t){e.setState({reservations:t.data.data})}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"reservation"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsxs)("h4",{className:"form-title",children:[this.state.restaurantName," - Reservations"]}),Object(u.jsxs)(h.b,{to:"/admin/reservation/add",className:"btn btn-sn btn-outline-primary shadow me-5 mt-4",children:[Object(u.jsx)("i",{className:"ti-plus me-2"}),"Add New Reservation"]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"container pb-4  px-5",children:[Object(u.jsx)("div",{className:"alert fade d-none ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[Object(u.jsx)("input",{type:"date",className:"form-control d-inline-block",onChange:this.filterRestaurant,style:{maxWidth:180}}),Object(u.jsx)("button",{className:"btn btn-info text-white rounded ms-2",onClick:this.clearFilter,children:"\xd7 clear filter"})]}),Object(u.jsxs)("table",{className:"table mt-0 table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Customer Name"}),Object(u.jsx)("th",{children:"Phone"}),Object(u.jsx)("th",{children:"No of Guest"}),Object(u.jsx)("th",{children:"Cuisine"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Time"}),Object(u.jsx)("th",{children:"Feedback"}),Object(u.jsx)("th",{children:"Status"}),Object(u.jsx)("th",{children:"Action"})]})}),Object(u.jsx)("tbody",{children:this.state.reservations.length>0?this.state.reservations.map((function(t,a){return Object(u.jsxs)("tr",{"data-id":t._id,children:[Object(u.jsxs)("td",{children:[a+1,"."]}),Object(u.jsx)("td",{children:t.customerName}),Object(u.jsx)("td",{children:t.phone}),Object(u.jsx)("td",{children:t.guestCount}),Object(u.jsx)("td",{children:t.cuisine}),Object(u.jsx)("td",{children:t.reservationDate.split("T")[0]}),Object(u.jsx)("td",{children:t.reservationTime}),Object(u.jsx)("td",{"data-rname":t.restaurantName,"data-name":t.customerName,"data-phone":t.phone,"data-date":t.reservationDate,"data-time":t.reservationTime,children:"waiting"===t.feedStatus?Object(u.jsxs)("button",{className:"btn btn-sm btn-secondary badge p-2","data-bs-target":"#send-feedback","data-bs-toggle":"modal",onClick:e.handleData,children:[Object(u.jsx)("i",{className:"ti-comment me-1"}),"Send"]}):Object(u.jsxs)("button",{className:"btn bt-sm btn-success badge p-2",onClick:e.handleViewData,"data-bs-target":"#view-feedback","data-bs-toggle":"modal",children:[Object(u.jsx)("i",{className:"ti-eye me-1"}),"View"]})}),"waiting"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-sm text-dark badge btn-warning shadow p-2",children:t.status})}):"confirmed"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-sm btn-primary badge p-2",children:t.status})}):"Seated In"===t.status?Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-sm bg-violet text-white badge p-2",children:t.status})}):Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-sm btn-danger badge p-2",children:t.status})}),Object(u.jsx)("td",{children:t.isActive?Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",onClick:e.handlCancelReservation,children:"Cancel"}):Object(u.jsx)("span",{className:"btn btn-sm shadow btn-danger",disabled:!0,children:"Cancelled"})})]},t._id)})):Object(u.jsxs)("tr",{children:[" ",Object(u.jsx)("td",{colSpan:"10",className:"text-center",children:"Searching..."})]})})]})]})]}),Object(u.jsx)("div",{className:"modal fade slide",id:"send-feedback",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content px-4 py-2",children:[Object(u.jsxs)("div",{className:"modal-header border-bottom-0",children:[Object(u.jsx)("h4",{className:"modal-title",children:"Feedback"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("form",{onSubmit:this.handleFeedbackForm,children:[Object(u.jsx)("div",{className:"alert fade d-none alert2 ".concat(this.state.alertClass),children:this.state.alertText}),Object(u.jsx)("p",{children:"Rate the restaurant service between 1-10."}),Object(u.jsxs)("div",{className:"number-arr",children:[Object(u.jsx)("span",{"data-count":"1",children:"1"}),Object(u.jsx)("span",{"data-count":"2",children:"2"}),Object(u.jsx)("span",{"data-count":"3",children:"3"}),Object(u.jsx)("span",{"data-count":"4",children:"4"}),Object(u.jsx)("span",{"data-count":"5",children:"5"}),Object(u.jsx)("span",{"data-count":"6",children:"6"}),Object(u.jsx)("span",{"data-count":"7",children:"7"}),Object(u.jsx)("span",{"data-count":"8",children:"8"}),Object(u.jsx)("span",{"data-count":"9",children:"9"}),Object(u.jsx)("span",{"data-count":"10",children:"10"})]}),Object(u.jsx)("textarea",{className:"form-control",rows:6,placeholder:"write down customer experience about restaurant...",onKeyUp:function(t){e.setState({comment:t.target.value})}}),Object(u.jsxs)("div",{className:"file-uploader",children:[Object(u.jsx)("input",{type:"file",onChange:this.handleUploadFile}),Object(u.jsxs)("label",{children:[Object(u.jsx)("i",{className:"ti-file"})," ",Object(u.jsx)("span",{children:"Upload File"})]})]}),Object(u.jsxs)("button",{type:"submit",className:"btn btn-block btn-primary radius-oval w-100 mt-4",children:[Object(u.jsx)("i",{className:"ti-comment",children:" "}),"Submit Feedback"]})]})})]})})}),Object(u.jsx)("div",{className:"modal fade slide",id:"view-feedback",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content px-4 py-2",children:[Object(u.jsxs)("div",{className:"modal-header border-bottom-0",children:[Object(u.jsx)("h4",{className:"modal-title",children:"View Feedback"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body view-body",children:Object(u.jsxs)("form",{onSubmit:this.handleFeedbackForm,children:[Object(u.jsx)("p",{className:"mb-0",children:"Rating by customers"}),Object(u.jsxs)("h4",{className:"mb-3",children:[this.state.latestRating," / 10"]}),Object(u.jsx)("p",{className:"mb-0",children:"Comment"}),Object(u.jsx)("h4",{className:"mb-3",children:this.state.latestComment}),Object(u.jsx)("p",{className:"mb-0",children:"Image"}),Object(u.jsx)("img",{src:this.state.latestImage,alt:""===this.state.latestImage?"":"No Image Available",className:"p-4 img-thumbnail w-75"})]})})]})})})]})}}]),a}(s.Component),_=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reservations:[],restaurants:[]},e.showReservation=function(e){var t=p()(e.target).data("name");localStorage.setItem("selected_restaurant",t),window.location.href="/admin/reservations"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://18.223.252.52:5000/api/restaurants").then((function(t){e.setState({restaurants:t.data.data})})),localStorage.removeItem("selected_restaurant")}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(D,{}),Object(u.jsx)(T,{activeLink:"reservation"}),Object(u.jsxs)("div",{className:"rs-content",children:[Object(u.jsx)("h4",{className:"form-title text-uppercase",children:"Restaurants"}),Object(u.jsx)("div",{className:"restaurant-wrapper",children:Object(u.jsx)("div",{class:"row",children:this.state.restaurants.map((function(t){return Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"restaurantBox",children:[Object(u.jsx)("div",{children:"Restaurant Name"}),Object(u.jsx)("h5",{className:"fw-bold mb-3",children:t.restaurantName}),Object(u.jsx)("div",{children:"Tables Available"}),Object(u.jsx)("h5",{className:"fw-bold mb-3",children:t.tableCount}),Object(u.jsx)("div",{children:"Email Address"}),Object(u.jsx)("h5",{className:"fw-bold mb-3",children:t.email}),Object(u.jsx)("div",{children:"Phone"}),Object(u.jsx)("h5",{className:"fw-bold mb-3",children:t.phone}),Object(u.jsx)("button",{className:"btn btn-primary radius-oval","data-name":t.restaurantName,onClick:e.showReservation,children:"View Reservations"})]})})}))})})]})]})}}]),a}(s.Component),K=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(h.a,{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",exact:!0,children:Object(u.jsx)(f,{})}),Object(u.jsx)(j.a,{path:"/login/admin",children:Object(u.jsx)(x,{})}),Object(u.jsx)(j.a,{path:"/login/restaurant",children:Object(u.jsx)(v,{})}),Object(u.jsx)(j.a,{path:"/restaurant/dashboard",children:Object(u.jsx)(y,{})}),Object(u.jsx)(j.a,{path:"/restaurant/search-reservation",children:Object(u.jsx)(C,{})}),Object(u.jsx)(j.a,{path:"/restaurant/customers",children:Object(u.jsx)(k,{})}),Object(u.jsx)(j.a,{path:"/restaurant/customer-reservation",children:Object(u.jsx)(S,{})}),Object(u.jsx)(j.a,{path:"/restaurant/feedback",children:Object(u.jsx)(R,{})}),Object(u.jsx)(j.a,{path:"/admin/dashboard",children:Object(u.jsx)(I,{})}),Object(u.jsx)(j.a,{path:"/admin/restaurant/add",children:Object(u.jsx)(F,{})}),Object(u.jsx)(j.a,{path:"/admin/restaurants",children:Object(u.jsx)(U,{})}),Object(u.jsx)(j.a,{path:"/admin/reservation/add",children:Object(u.jsx)(M,{})}),Object(u.jsx)(j.a,{path:"/admin/reservation/feedback",children:Object(u.jsx)(L,{})}),Object(u.jsx)(j.a,{path:"/admin/reservations",children:Object(u.jsx)(P,{})}),Object(u.jsx)(j.a,{path:"/admin/restaurant-selection",children:Object(u.jsx)(_,{})})]})})}}]),a}(n.a.Component),B=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={loading:"block"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(K,{})})}}]),a}(s.Component);r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(B,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.3d3563eb.chunk.js.map